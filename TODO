- implement the situation in which the first event carries browser information (i.e. browser version, browser size...)
- maybe it would be an ok idea to put a flag in the execution summary (i.e. attempting to read ActiveXObject, document height, document width)
- write anything in cookie

******************   0. Programming  ******************
- Go Through automatic tests, compare them with Artemis, add more standard applications, the ones from slicing tests
                              add scenario filtering

    Can't get any better:
    - 01-3dModeller
    - 02-ajaxtabsconent
    - 04-dragable-boxes
        - cookies
    - 05-dynamicArticles
    - 25-snake
    - 26-snowpar
    - 21-angelJump (nothing)
            - try to cause game over, would significantly influence coverage
    - 23-prism3D

    - 06-fractalViewer (leaves not drawn, so lower coverage, not sure on improvements)
        - improvements possible, but?

    - 08-pacman (minor improvements)
    - 20-3dMaker
        - two clicks have to be generated (at least two points, and then a key should be pressed), why isn't it working??

    - 03-ball_pool (try more!)
    - 07-homeostasis
        - reduced, but still breaking in phantomJs

- Go Through all big slicing examples

******************    1. Writing    ******************
Chapter 1 - DONE
Chapter 2 - DONE
Chapter 3
    - Implement Jan comments about redundancy, maybe explain basic concepts such as feature manifestations here
Chapter 4 - DONE (needs review)
Chapter 5
    - Think more about the final prioritization function
    - Write evaluation
Chapter 6
    - Update evaluation

Chapter 7
    - Update in accordance with ICSE paper

Chapter 8
    - Tool section

Chapter 9
    - Overall evaluation

Chapter 10
    - Related work

Chapter 11
    - Conclusions and Future work

*****************   2. Evaluation   ******************
Chapter 5
    - Compare scenario selection functions
    - Evaluate Specific features (pilot study)
    - Add More applications when testing generating whole page scenarios

Chapter 6
    - Run scenarios for feature extraction

Chapter 7
    - Perform evaluation on more pages




























------------------------------------------------------------------------------------------------------------------------
- Make it work for other pages!!
   - problem with
        - nodeID: 46899 ("opts.animIn") - does not include the definition of animIn for some reason !?
        - includes the assignement:  "opts.animIn = $.extend({}, opts.original.animIn)"   nodeId 43583 (continue here)
        + problem with i and i++ being arguments in a call expression: the argument values would be determined in the end, which means that argument i would have the value
        + return Sizzle(expr, null, null, [node]).length in Sizzle.matchesSelector (return from Sizzle is not included); but it does not seem that Sizzle(expr, null).. is even necessary
        + the problem is that [node] is necessary -> this probably causes the inclusion of everything in the call expressions
        ! -> (but the problem is including the property .length in the dependency postprocessor)
   + problem with thisCache[jQuery.camelCase(name)];
        (there is no connection to thisCache and jQuery.camelCase is "imporant") - study more!
   + the problem was with creating dependencies between internal function call expressions and arguments (arg -> call expression, i don't know why i even did that..)

- there is an overall problem of dependencyPostprocessor - that part should not be there

+ dependency traversal algorithm in node.js
    + for finding groups, maybe don't go through all dependencies again, but only forward till it is ok, and backward till it is ok

- Make automatic testing for libraries
    - gauss
    - medialize (has errors - fix)
        - Guide: run C:\GitWebStorm\Firecrow\tests\libraries\medialize\tests\debugMedialize.html (and study errors)
        - it seems that i broke something when i added automatic toValue and toString invocation (check it by creating a smaller test suite behaving the same way)
    - sylvester
------------------------------------------------------------------------------------------------------------------------
NEXT:

    - continue debugging - it seems that the addition of :not([origin="reuse"]) does not work for complex selectors
    - on a test example implement, after a slicing criteria is processed,
      create a map of all constructs included in the slice (i'm not sure how detailed it has to be, at least on memberExpression, callExpression, identifiers levels)
      then group them by functions, and see what could potentially cause problems.
      Then in a situation where it causes problems - we should again traverse.. this could lead to fixed point iteration algorithms

    - i think the problem can occur anywhere.. but the most serious manifestations are in functions and maybe loops
    - this will require more post-processing in the end.
    - for a slicing criteria, make a map of all included code constructs and max dependencies which have added them
    - once we have performed slicing based one each individual criteria, we have to take care of the union of dynamic slices problem
    - it might not even be necessary to track which were included by which; just again, for each included code construct,
      go through all unprocessed dependencies - i'm not sure if this will break anything; maybe not even all, but the ones between the
      edges that have caused the inclusion? So i would have to keep track of indexes of the edges that have caused the inclusion of a code construct
      I can dismiss all dependencies after the last one that has caused the inclusion. But probably not all are necessary;
    - the problem is that i'm not sure if this is worth only for call expressions. If it is, this process should only be performed for code constructs
      whose call expression is also included; a not for all dependencies

    - yes, it should only be if they depend on a call expression that gets included.. So maybe i should
      somehow keep a set of dependencies between every exprssion and the parent call expression
      When creating a dependency to the call expression, log in the execution summary, or somewhere
      that there is a dependency, then when processing included constructs, see if t
      we should see if this dependency comes to a call expression that has been included, if
      it is - then traverse it

      ! create a mapping between an executed call expression and all dependencies created in the execution, so
      that each dependency can be associated with an executed call expression. Then, for each included expression,
      find a data-dependency that leads an unicluded construct, and traverse it

      - log a connection between both the currently created dependency and the call expression and the last created dependnecy
      - that way i know exactly where it is bound to, than i can traverse only the interesting connections, and then i check only
        the dependencies - which ones?

    - possibly to go the other way -> from profiling, remove things that for sure will not be included
    - try to find these problems when unioning

    - i think i could remove the way i handled return expressions in that case

    - tried with differentiating between pure data-dependencies and the rest, but it didn't work on it's own

    - another idea: while evaluating the application, keep a list of evaluated member and call expressions
      (these are the ones that can cause null exceptions) along with the index of the last dependency created from them;
      add this after the command has been evaluated; then when the first phases of marking are done,
      go through the list and for each included element check whether there is an untraversed (pure-data) dependency
      whose index is less than the stored dependency.


20-mooToolsPlay
 - Continue executing debugTestPages and 20-mooTools;
 - the same problem as with 01c


*******Reuse
- Final studies
 - 01 - 31 sec - OK
 - 02 - 52 sec - OK
 - 03 - 161 sec - OK
 - 04 - 41 sec - OK
 - 05 - 179 sec - OK
 - 06 - 159 sec - OK
 - 07 - 426 sec, OK
 - 08 - Still nothing, problem with renamings
 - 09 - 57 sec


- add options to remove outside HTML nodes
- fix the CSS Specificity problem

- The problem comes from this:
          .or div { color:green}
          .container { color: red; }
      <div class ="or">
          <div class="container">
              Test -> Will be red (the problem is that in the original case it was only "div" which is weaker than ".container", so maybe the solution would be to also expand the ".container")
              //All rules should be traversed and expanded: .container -> .or .container, .or.container
          </div>
      </div>

      + 01-16_01
      + 02-20_01
      + 03-21_01

      + 04-15_12
      + 06-11_02
      + 07-21_02
      + 08-06_03
      + 08b-01a_03
      + 10-21_03
      + 11-21_04
      + 50-15_07
      + 52-20_07
      + 53-21_07


      01; 03; 04; 06; 07; 11; 15; 16; 20; 21





+ 01-16_01 - 137 sec, OK
+ 02-20_01 - 569 sec, OK
+ 03-21_01 - 218 sec, OK

+ 04-15_12 - 31 sec, OK

- 05-06_02 - 200 sec, OK
+ 06-11_02 - 164 sec, OK
+ 07-21_02 - 200 sec, OK

- (maybe try with different reuse positions)
+ 08-06_03 - 108, OK
+ 08b-01a_03 - 179, OK
- 09-08_03 - 81, OK
+ 10-21_03 - 114, OK

+ 11-21_04 - 102, OK
- 12-06_04 - 90, OK
- 13-08_04 - 67, NOK (buttons don't change class - the problem is that it uses a removeClass from jQuery - which dynamically constructs a new class name)
- 14-01b_04 - 122, NOK (picked up everything else and looses styles)
- 15-01c_04 - 168, NOK (looses some styles in the included)
- 16-02a_04 - 179, NOK (skroz iznereÄ‘eno)
- 17-02b_04 -

- 18-03_04 -
- 19-11_04 -
- 20-12_04 -
- 21-16_04 -
- 22-19_04 -
- 23-20_04 -
- 24-21_04 -

- 25-02a_05 - 180 sec, more or less ok, but picks up strange stuff
- 26-02b_05 -
- 27-03_05 - 100 sec, Not working (skip whole 5)
- 28-04_05 -
- 29-06_05 -
- 30-08_05 -
- 31-11_05 -
- 32-16_05 -
- 33-20_05 -
- 34-21_05 -

- 36-01c_06 - 175sec, working, but the buttons are missing the styles (probably are set in a relationship towards a parent structure)
- 37-02a_06 - skip
- 38-02b_06 - skip
- 39-11_06 - 73 sec, OK
- 40-15_06 - 78 sec, ERROR (renames sliderright eventhough it conflicts in slider -> in getElementById)
- 41-19_06 - 179 sec, OK
- 42-21_06 - 101 sec, OK

- 43-01c_07 - skip
- 44-02a_07 - skip
- 45-02b_07 - skip
- 46-05_07 - 109, NOK (iPhone mask not included)
- 47-06_07 - 102, OK
- 48-11_07 - 73, OK
- 49-12_07 - 52, NOK
+ 50-15_07 - 82, OK
- 51-19_07 - skip
+ 52-20_07 - 482, OK
+ 53-21_07 - 99, OK

- 54-01b_08
- 55-01c_08
- 56-02b_08
+ 57-03_08 75 sec, NOK
- 58_04_08
- 59_06_08
- 60-11_08
- 61-15_08
- 62-19_08
- 63-20_08
- 63-21_08
*******UI Controls:
 - 01a - OK; F: 140 113; S: 102 979;
 - 01b - OK; F: 194 325; S: 87 510;
 - 01c - OK; F: 181 796; S: 136 277;
 - 02a - OK; F: 192 599; S: 101 255;
 - 02b - OK; F: 140 567; S: 76 935;
 - 03 -  OK; F: 86 088;  S: 38 036;
 - 04 -  OK; F: 107 054; S: 70 892;
 - 05 - OK;  F: 137 596; S: 99 555;
 - 06 - OK;
 - 07 - OK  F: 64 583; S: 35 072;
 - 08 - OK  F: 34 040; S: 17 200;
 - 09 - NOK F: 176 179; S:139 802   (fixHook in fix: function(event)) !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
 - 10 - OK  F: 193 200; S:
 - 11 - OK
 - 12 - OK
 - 13 - OK
 - 14 - NOK
 - 15 - OK
 - 16 - OK
 - 17 - OK
 - 18 - NOK
 - 19 - OK
 - 20 - OK
 - 21 -
         node id: 23619 -> (new Fx.Slide('login')).hide
         node id: 23620 -> (new Fx.Slide('login')) -> tu je neki problem
         marginTop ne postavi dobro za #top

******************* Libraries
- gauss OK
- medialize - not running
- sylvester - 61-Plane-containement problem


******************* Suggestions
- maybe visualize the relationships between full, profiled and extracted code (bars similar to the ones used in Reuse-Driven Interprocedural Slicing)
------------------------------------------------------------------------------------------------------------------------
Testing TO-DO list:
-


- smaller, but more effective test suite
- delete all unnecessary tests
- enable all tests!
- make one unified test that tests both debugSlicing and debugDOM tests

To Do List:

- eval
- ES5 stuff (Object.defineProperty, etc.), canvas
- refactor

***********************************************************************************************************************
- Add the extraction wizard
    - offer simple download
    - offer simple profiling
    - offer extraction
- classList.add; remove...
***********************************************************************************************************************
- Detecting conflicts on dependency graphs
