<!DOCTYPE html>
<html>
<head>
    <title></title>
    <script src="http://localhost/Firecrow/evaluation/libraries/prototype/prototype.js"></script>
    <script src="http://localhost/Firecrow/evaluation/libraries/prototype/hash.js"></script>
</head>
<body>
      <script>
          // redundant now that object is systematically cloned.
          var FooMaker = function(value) {
              this.key = value;
          };
          FooMaker.prototype.key = 'foo';
          var foo = new FooMaker('bar');
          assertEquals("key=bar", new Hash(foo).toQueryString());
          assertEquals("key=bar", new Hash(new Hash(foo)).toQueryString());
      </script>
</body>
</html>