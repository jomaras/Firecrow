<!DOCTYPE html>
<html>
<head>
    <title></title>
    <script src="http://localhost/Firecrow/evaluation/libraries/prototype/prototype.js"></script>
</head>
<body>
    <div id="test_node">
        <div></div>
        <div></div>
        <div></div>
    </div>
      <script>
          assertEquals([].length, [].flatten().length);
          assertEquals([1,2,3].length, [1,2,3].flatten().length);

          var firstFlattened = [1,[[[2,3]]]].flatten();
          assertEquals(firstFlattened[0], 1);
          assertEquals(firstFlattened[1], 2);
          assertEquals(firstFlattened[2], 3);

          var secondFlattened = [[1],[2],[3]].flatten();
          assertEquals(secondFlattened[0], 1);
          assertEquals(secondFlattened[1], 2);
          assertEquals(secondFlattened[2], 3);

          var thirdFlattened = [[[[[[[1]]]]]],2,3].flatten();
          assertEquals(thirdFlattened[0], 1);
          assertEquals(thirdFlattened[1], 2);
          assertEquals(thirdFlattened[2], 3);
      </script>
</body>
</html>