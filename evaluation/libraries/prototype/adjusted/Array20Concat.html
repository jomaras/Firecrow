<!DOCTYPE html>
<html>
<head>
    <title></title>
    <script src="http://localhost/Firecrow/evaluation/libraries/prototype/prototype.js"></script>
</head>
<body>
    <div id="test_node">
        <div></div>
        <div></div>
        <div></div>
    </div>
      <script>
          var x = {};

          assertEquals(1, Array.prototype.concat.length);

          var firstConcat = [0, 1].concat();
          assertEquals(firstConcat[0], 0);
          assertEquals(firstConcat[1], 1);
          assertEquals(firstConcat.length, 2);

          assertEquals(2, [0, 1].concat().length, "test 3");

          var secondConcat = [].concat([0, 1], [2, 3, 4]);
          assertEquals(secondConcat[0], 0);
          assertEquals(secondConcat[1], 1);
          assertEquals(secondConcat[2], 2);
          assertEquals(secondConcat[3], 3);
          assertEquals(secondConcat[4], 4);
          assertEquals(secondConcat.length, 5);

          var thirdConcat = [0].concat(x, [1, 2], true, "NaN");

          assertEquals(thirdConcat[0], 0);
          assertEquals(thirdConcat[1], x);
          assertEquals(thirdConcat[2], 1);
          assertEquals(thirdConcat[3], 2);
          assertEquals(thirdConcat[4], true);
          assertEquals(thirdConcat[5], "NaN");
          assertEquals(thirdConcat.length, 6);

          x.concat = Array.prototype.concat;
          assertEquals(x.concat()[0], x);

          var arr = []; arr[2] = true;
          var fourthConcat = [].concat(arr);

          assertEquals(fourthConcat[0], undefined);
          assertEquals(fourthConcat[1], undefined);
          assertEquals(fourthConcat[2], true);
          assertEquals(fourthConcat.length, 3);

          var args = (function() { return [].concat(arguments) })(1, 2);
          assertEquals(1, args[0][0]);
      </script>
</body>
</html>