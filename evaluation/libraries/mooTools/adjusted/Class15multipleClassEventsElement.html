<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta charset="utf-8">
    <script src="../mootools-core.js"></script>
</head>
<body>
    <script>
        var Local = {};
        var fire = 'fireEvent';

        Local.Chain = new Class({
            Implements: Chain
        });

        Local.called = 0;
        Local.fn = function(){
            return Local.called++;
        };

        (new Element('div')).addEvents({
            event1: Local.fn,
            event2: Local.fn
        })[fire]('event1')[fire]('event2');

        assertEquals(Local.called, 2);
    </script>
</body>
</html>