<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta charset="utf-8">
    <script src="../mootools-core.js"></script>
</head>
<body>
    <script>  function assertEquals(){}
        var Local = {};

        Local.Chain = new Class({
            Implements: Chain
        });

        var chain = new Local.Chain();
        var arr = [];
        chain.chain(function(a, b){
            var str = "0" + b + a;
            arr.push(str);
            return str;
        });
        chain.chain(function(a, b){
            var str = "1" + b + a;
            arr.push(str);
            return str;
        });
        var ret;
        assertEquals(arr.join(), "");
        ret = chain.callChain("a", "A");
        assertEquals(ret, "0Aa");
        assertEquals(arr.join(), "0Aa");

        ret = chain.callChain("b", "B");
        assertEquals(ret, "1Bb");
        assertEquals(arr.join(","), "0Aa,1Bb");

        ret = chain.callChain();
        assertEquals(ret, false);
        assertEquals(arr.join(","), "0Aa,1Bb");
    </script>
</body>
</html>