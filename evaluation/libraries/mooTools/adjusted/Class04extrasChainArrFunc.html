<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta charset="utf-8">
    <script src="../mootools-core.js"></script>
</head>
<body>
    <script>
        var Local = {};

        Local.Chain = new Class({
            Implements: Chain
        });

        var chain = new Local.Chain();
        var arr = [];

        chain.chain([function(){
            arr.push(0);
        }, function(){
            arr.push(1);
        }, function(){
            arr.push(2);
        }]);

        assertEquals(arr.join(""), "");
        chain.callChain();
        assertEquals(arr.join(""), "0");
        chain.callChain();
        assertEquals(arr.join(","), "0,1");
        chain.callChain();
        assertEquals(arr.join(","), "0,1,2");
        chain.callChain();
        assertEquals(arr.join(","), "0,1,2");
    </script>
</body>
</html>