<html>
    <head><title>Sylvester Test: Arrays-zip</title><meta charset='UTF-8'></head>
    <body>
        <script src='http://localhost/Firecrow/evaluation/libraries/underscore/underscore-src.js'></script>
        <script>
            var people = [{name : 'curly', age : 50}, {name : 'moe', age : 30}];
            people = _.sortBy(people, function(person){ return person.age; });
            assertEquals(_.pluck(people, 'name').join(', '), 'moe, curly', 'stooges sorted by age');

            var list = [undefined, 4, 1, undefined, 3, 2];
            assertEquals(_.sortBy(list, _.identity).join(','), '1,2,3,4,,', 'sortBy with undefined values');

            var list = ["one", "two", "three", "four", "five"];
            var sorted = _.sortBy(list, 'length');
            assertEquals(sorted.join(' '), 'one two four five three', 'sorted by length');

            function Pair(x, y) {
                this.x = x;
                this.y = y;
            }

            var collection = [
                new Pair(1, 1), new Pair(1, 2),
                new Pair(1, 3), new Pair(1, 4),
                new Pair(1, 5), new Pair(1, 6),
                new Pair(2, 1), new Pair(2, 2),
                new Pair(2, 3), new Pair(2, 4),
                new Pair(2, 5), new Pair(2, 6),
                new Pair(undefined, 1), new Pair(undefined, 2),
                new Pair(undefined, 3), new Pair(undefined, 4),
                new Pair(undefined, 5), new Pair(undefined, 6)
            ];

            var actual = _.sortBy(collection, function(pair) {
                return pair.x;
            });

            assertEquals(actual[0], collection[0], 'sortBy should be stable');
            assertEquals(actual[1], collection[1], 'sortBy should be stable');
            assertEquals(actual[2], collection[2], 'sortBy should be stable');
            assertEquals(actual[3], collection[3], 'sortBy should be stable');
            assertEquals(actual[4], collection[4], 'sortBy should be stable');
            assertEquals(actual[5], collection[5], 'sortBy should be stable');
            assertEquals(actual[6], collection[6], 'sortBy should be stable');
            assertEquals(actual[7], collection[7], 'sortBy should be stable');
            assertEquals(actual[8], collection[8], 'sortBy should be stable');
        </script>
    </body>
</html>