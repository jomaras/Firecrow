<html>
    <head><title>Sylvester Test: Arrays-zip</title><meta charset='UTF-8'></head>
    <body>
        <script src='http://localhost/Firecrow/evaluation/libraries/underscore/underscore-src.js'></script>
        <script>
            _.each([1, 2, 3], function(num, i) {
                assertEquals(num, i + 1, 'each iterators provide value and iteration count');
            });

            var answers = [];
            _.each([1, 2, 3], function(num){ answers.push(num * this.multiplier);}, {multiplier : 5});
            assertEquals(answers.join(', '), '5, 10, 15', 'context object property accessed');

            answers = [];
            _.forEach([1, 2, 3], function(num){ answers.push(num); });
            assertEquals(answers.join(', '), '1, 2, 3', 'aliased as "forEach"');

            answers = [];
            var obj = {one : 1, two : 2, three : 3};
            obj.constructor.prototype.four = 4;
            _.each(obj, function(value, key){ answers.push(key); });
            assertEquals(answers.join(", "), 'one, two, three', 'iterating over objects works, and ignores the object prototype.');
            delete obj.constructor.prototype.four;

            var answer = null;
            _.each([1, 2, 3], function(num, index, arr){ if (_.include(arr, num)) answer = true; });
            assert(answer, 'can reference the original collection from inside the iterator');

            answers = 0;
            _.each(null, function(){ ++answers; });
            assertEquals(answers, 0, 'handles a null properly');
        </script>
    </body>
</html>