<html>
    <head><title>Sylvester Test: Arrays-zip</title><meta charset='UTF-8'></head>
    <body>
        <script src='http://localhost/Firecrow/evaluation/libraries/underscore/underscore-src.js'></script>
        <script>
            var parity = _.groupBy([1, 2, 3, 4, 5, 6], function(num){ return num % 2; });
            assert('0' in parity && '1' in parity, 'created a group for each value');
            assertEquals(parity[0].join(', '), '2, 4, 6', 'put each even number in the right group');

            var list = ["one", "two", "three", "four", "five", "six", "seven", "eight", "nine", "ten"];
            var grouped = _.groupBy(list, 'length');
            assertEquals(grouped['3'].join(' '), 'one two six ten');
            assertEquals(grouped['4'].join(' '), 'four five nine');
            assertEquals(grouped['5'].join(' '), 'three seven eight');

            var context = {};
            _.groupBy([{}], function(){ assert(this === context); }, context);

            grouped = _.groupBy([4.2, 6.1, 6.4], function(num) {
                return Math.floor(num) > 4 ? 'hasOwnProperty' : 'constructor';
            });
            assertEquals(grouped.constructor.length, 1);
            assertEquals(grouped.hasOwnProperty.length, 2);

            var array = [{}];
            _.groupBy(array, function(value, index, obj){ assert(obj === array); });

            var array = [1, 2, 1, 2, 3];
            var grouped = _.groupBy(array);
            assertEquals(grouped['1'].length, 2);
            assertEquals(grouped['3'].length, 1);

            var matrix = [
                [1,2],
                [1,3],
                [2,3]
            ];
            var grouped1 = _.groupBy(matrix, 0);

            assertEquals(grouped1[1][0][0], 1);
            assertEquals(grouped1[1][0][1], 2);

            assertEquals(grouped1[1][1][0], 1);
            assertEquals(grouped1[1][1][1], 3);

            assertEquals(grouped1[2][0][0], 2);
            assertEquals(grouped1[2][0][1], 3);

            var grouped2 = _.groupBy(matrix, 1);

            assertEquals(grouped2[2][0][0], 1);
            assertEquals(grouped2[2][0][1], 2);

            assertEquals(grouped2[3][0][0], 1);
            assertEquals(grouped2[3][0][1], 3);

            assertEquals(grouped2[3][1][0], 2);
            assertEquals(grouped2[3][1][1], 3);
        </script>
    </body>
</html>