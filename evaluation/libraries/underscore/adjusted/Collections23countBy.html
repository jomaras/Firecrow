<html>
    <head><title>Sylvester Test: Arrays-zip</title><meta charset='UTF-8'></head>
    <body>
        <script src='http://localhost/Firecrow/evaluation/libraries/underscore/underscore-src.js'></script>
        <script>
            var parity = _.countBy([1, 2, 3, 4, 5], function(num){ return num % 2 == 0; });
            assertEquals(parity['true'], 2);
            assertEquals(parity['false'], 3);

            var list = ["one", "two", "three", "four", "five", "six", "seven", "eight", "nine", "ten"];
            var grouped = _.countBy(list, 'length');
            assertEquals(grouped['3'], 4);
            assertEquals(grouped['4'], 3);
            assertEquals(grouped['5'], 3);

            var context = {};
            _.countBy([{}], function(){ assert(this === context); }, context);

            grouped = _.countBy([4.2, 6.1, 6.4], function(num) {
                return Math.floor(num) > 4 ? 'hasOwnProperty' : 'constructor';
            });
            assertEquals(grouped.constructor, 1);
            assertEquals(grouped.hasOwnProperty, 2);

            var array = [{}];
            _.countBy(array, function(value, index, obj){ assert(obj === array); });

            var array = [1, 2, 1, 2, 3];
            var grouped = _.countBy(array);
            assertEquals(grouped['1'], 2);
            assertEquals(grouped['3'], 1);
        </script>
    </body>
</html>