<!DOCTYPE html>
<html>
<head>
    <title></title>
    <script>
        var ArrayProto = Array.prototype, ObjProto = Object.prototype;

        // Create quick reference variables for speed access to core prototypes.
        var push             = ArrayProto.push,
            slice            = ArrayProto.slice,
            toString         = ObjProto.toString;

        // All **ECMAScript 5** native function implementations that we hope to use
        // are declared here.
        var nativeForEach      = ArrayProto.forEach,
            nativeIsArray      = Array.isArray,
            nativeKeys         = Object.keys;

        var _ = function(obj)
        {
            if (obj instanceof _) return obj;
            if (!(this instanceof _)) return new _(obj);

            this._wrapped = obj;
        };

        var each = _.each = _.forEach = function(obj, iterator, context)
        {
            if (obj == null) return;
            if (nativeForEach && obj.forEach === nativeForEach)
            {
                obj.forEach(iterator, context);
            }
        };

        _.first = function(array, n, guard) {
            if (array == null) return void 0;
            return (n == null) || guard ? array[0] : slice.call(array, 0, n);
        };

        _.keys = nativeKeys || function(obj) {
            if (obj !== Object(obj)) throw new TypeError('Invalid object');
            var keys = [];
            for (var key in obj) if (_.has(obj, key)) keys.push(key);
            return keys;
        };

        _.functions = _.methods = function(obj) {
            var names = [];
            for (var key in obj) {
                if (_.isFunction(obj[key])) names.push(key);
            }
            return names.sort();
        };

        // Extend a given object with all the properties in passed-in object(s).
        _.extend = function(obj) {
            each(slice.call(arguments, 1), function(source) {
                if (source) {
                    for (var prop in source) {
                        obj[prop] = source[prop];
                    }
                }
            });
            return obj;
        };

        _.isFunction = function(obj)
        {
            return toString.call(obj) == '[object Function]';
        }

        // If the value of the named `property` is a function then invoke it with the
        // `object` as context; otherwise, return it.
        _.result = function(object, property) {
            if (object == null) return void 0;
            var value = object[property];
            return _.isFunction(value) ? value.call(object) : value;
        };

        // Add your own custom functions to the Underscore object.
        _.mixin = function(obj) {
            each(_.functions(obj), function(name) {
                var func = _[name] = obj[name];
                _.prototype[name] = function() {
                    var args = [this._wrapped];
                    push.apply(args, arguments);
                    return result.call(this, func.apply(_, args));
                };
            });
        };

        // Helper function to continue chaining intermediate results.
        var result = function(obj) {
            return this._chain ? _(obj).chain() : obj;
        };

        // Add all of the Underscore functions to the wrapper object.
        _.mixin(_);
    </script>
    <script>
        var a1 = _([1, 2, 3]).first() == 1;
        a1;
    </script>
</head>
<body>

</body>
</html>