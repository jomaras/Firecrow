{"version":3,"file":"hash.js","sources":["../src/hash.js"],"names":["factory","E","exports","js","JS","require","Enumerable","Comparable","Hash","Class","include","extend","Pair","length","setKey","key","this","hasKey","areEqual","setValue","value","hasValue","compareTo","other","hash","codeFor","sort","join","object","String","initialize","clear","isType","Array","setDefault","i","n","store","forEach","block","context","enumFor","toFn","bucket","_buckets","hasOwnProperty","call","_bucketForKey","createIfAbsent","klass","_indexInBucket","ident","_compareByIdentity","assoc","index","pair","size","push","rassoc","compareByIdentity","comparesByIdentity","_default","getDefault","equals","result","otherPair","hashes","fetch","defaultValue","undefined","Error","forEachKey","forEachPair","forEachValue","get","has","invert","isEmpty","keepIf","removeIf","apply","arguments","keys","merge","newHash","update","rehash","temp","remove","_delete","splice","toRemove","replace","shift","toString","map","givenBlock","values","valuesAt","results","alias","includes","put","OrderedHash","_super","prototype","existing","_first","_last","_next","_prev","callSuper"],"mappings":"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"}