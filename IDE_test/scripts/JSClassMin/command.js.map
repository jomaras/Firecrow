{"version":3,"file":"command.js","sources":["../src/command.js"],"names":["factory","E","exports","js","JS","require","Enumerable","Observable","Command","Class","initialize","functions","execute","this","_functions","_stack","stack","push","_restart","exec","apply","undo","extend","Stack","include","options","_redo","redo","clear","forEach","block","context","enumFor","toFn","i","n","length","undefined","call","pointer","command","splice","notifyObservers","stepTo","position"],"mappings":"CAAA,SAAUA,GACR,GAAIC,GAAyB,gBAAZC,SACbC,EAAoB,mBAAPC,IAAsBC,QAAQ,UAAYD,GAEvDE,EAAaH,EAAGG,YAAcD,QAAQ,gBAAgBC,WACtDC,EAAaJ,EAAGI,YAAcF,QAAQ,gBAAgBE,UAEtDN,KAAGC,QAAQE,GAAKF,SACpBF,EAAQG,EAAIG,EAAYC,EAAYN,EAAIC,QAAUC,IAEjD,SAASC,EAAIE,EAAYC,EAAYL,GACxC,YAEA,IAAIM,GAAU,GAAIJ,GAAGK,MAAM,WACzBC,WAAY,SAASC,GACM,kBAAdA,KACTA,GAAaC,QAASD,IACxBE,KAAKC,WAAaH,EAClBE,KAAKE,OAASF,KAAKC,WAAWE,OAAS,MAGzCJ,QAAS,SAASK,GACZJ,KAAKE,QAAQF,KAAKE,OAAOG,UAC7B,IAAIC,GAAON,KAAKC,WAAWF,OACvBO,IAAMA,EAAKC,MAAMP,MACjBA,KAAKE,QAAUE,KAAS,GAAOJ,KAAKE,OAAOE,KAAKJ,OAGtDQ,KAAM,WACJ,GAAIF,GAAON,KAAKC,WAAWO,IACvBF,IAAMA,EAAKC,MAAMP,OAGvBS,QACEC,MAAO,GAAInB,GAAGK,OACZe,SAAUjB,MAAkBD,OAE5BI,WAAY,SAASe,GACnBA,EAAUA,MACVZ,KAAKa,MAAQD,EAAQE,MAAQ,KAC7Bd,KAAKe,SAGPC,QAAS,SAASC,EAAOC,GACvB,IAAKD,EAAO,MAAOjB,MAAKmB,QAAQ,UAChCF,GAAQxB,EAAW2B,KAAKH,EAExB,KAAK,GAAII,GAAI,EAAGC,EAAItB,KAAKE,OAAOqB,OAAYD,EAAJD,EAAOA,IACtBG,SAAnBxB,KAAKE,OAAOmB,IACdJ,EAAMQ,KAAKP,EAASlB,KAAKE,OAAOmB,GAAIA,EAExC,OAAOrB,OAGTe,MAAO,WACLf,KAAKE,UACLF,KAAKuB,OAASvB,KAAK0B,QAAU,GAG/BrB,SAAU,WACa,IAAjBL,KAAK0B,SAAiB1B,KAAKa,OAASb,KAAKa,MAAMd,SACjDC,KAAKa,MAAMd,WAGfK,KAAM,SAASuB,GACb3B,KAAKE,OAAO0B,OAAO5B,KAAK0B,QAAS1B,KAAKuB,QACtCvB,KAAKE,OAAOE,KAAKuB,GACjB3B,KAAKuB,OAASvB,KAAK0B,QAAU1B,KAAKE,OAAOqB,OACrCvB,KAAK6B,iBAAiB7B,KAAK6B,gBAAgB7B,OAGjD8B,OAAQ,SAASC,GACf,KAAe,EAAXA,GAAgBA,EAAW/B,KAAKuB,QAApC,CACA,GAAIF,GAAGC,CAEP,SAAQ,GACN,IAAKS,GAAW/B,KAAK0B,QACnB,IAAKL,EAAIrB,KAAK0B,QAASJ,EAAIS,EAAcT,EAAJD,EAAOA,IAC1CrB,KAAKE,OAAOmB,GAAGtB,SAAQ,EACzB,MAEF,KAAKgC,GAAW/B,KAAK0B,QACnB,GAAI1B,KAAKa,OAASb,KAAKa,MAAMd,QAE3B,IADAC,KAAKa,MAAMd,UACNsB,EAAI,EAAGC,EAAIS,EAAcT,EAAJD,EAAOA,IAC/BrB,KAAKE,OAAOmB,GAAGtB,SAAQ,OAEzB,KAAKsB,EAAI,EAAGC,EAAItB,KAAK0B,QAAUK,EAAcT,EAAJD,EAAOA,IAC9CrB,KAAKE,OAAOF,KAAK0B,QAAUL,EAAI,GAAGb,OAI1CR,KAAK0B,QAAUK,EACX/B,KAAK6B,iBAAiB7B,KAAK6B,gBAAgB7B,QAGjDQ,KAAM,WACJR,KAAK8B,OAAO9B,KAAK0B,QAAU,IAG7BZ,KAAM,WACJd,KAAK8B,OAAO9B,KAAK0B,QAAU,QAMnCrC,GAAQM,QAAUA"}