!function(e){var t="object"==typeof exports,n="undefined"==typeof JS?require("./core"):JS;t&&(exports.JS=exports),e(n,t?exports:n)}(function(e,t){"use strict";var n={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12,ENV:this,toggleClass:function(e,t){this.hasClass(e,t)?this.removeClass(e,t):this.addClass(e,t)},hasClass:function(t,n){var s=t.className.split(/\s+/);return e.indexOf(s,n)>=0},addClass:function(e,t){this.hasClass(e,t)||(e.className=e.className+" "+t)},removeClass:function(e,t){var n=RegExp("\\b"+t+"\\b\\s*","g");e.className=e.className.replace(n,"")}};n.Builder=new e.Class("DOM.Builder",{extend:{addElement:function(e){this.define(e,function(){return this.makeElement(e,arguments)}),n[e]=function(){return(new n.Builder).makeElement(e,arguments)}},addElements:function(e){for(var t=e.length;t--;)this.addElement(e[t])}},initialize:function(e){this._parentNode=e},makeElement:function(t,n){var s,r,i;s=document.createElementNS?document.createElementNS("http://www.w3.org/1999/xhtml",t):document.createElement(t);for(var a=0,o=n.length;o>a;a++)if(r=n[a],"function"==typeof r)r(new this.klass(s));else if(e.isType(r,"string"))s.appendChild(document.createTextNode(r));else for(i in r)s[i]=r[i];return this._parentNode&&this._parentNode.appendChild(s),s},concat:function(e){this._parentNode&&this._parentNode.appendChild(document.createTextNode(e))}}),n.Builder.addElements(["a","abbr","address","applet","area","article","aside","audio","b","base","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","command","datalist","dd","del","details","device","dfn","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","map","mark","marquee","menu","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rp","rt","ruby","samp","script","section","select","small","source","span","strong","style","sub","sup","summary","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","ul","var","video","wbr"]),n.Event={_registry:[],on:function(e,t,s,r){if(void 0!==e&&(e===n.ENV||e.nodeType===n.ELEMENT_NODE||e.nodeType===n.DOCUMENT_NODE)){var i=function(){s.call(r,e)};e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent&&e.attachEvent("on"+t,i),this._registry.push({_element:e,_type:t,_callback:s,_context:r,_handler:i})}},detach:function(e,t,n,s){for(var r,i=this._registry.length;i--;)r=this._registry[i],e&&e!==r._element||t&&t!==r._type||n&&n!==r._callback||s&&s!==r._context||(r._element.removeEventListener?r._element.removeEventListener(r._type,r._handler,!1):r._element.detachEvent&&r._element.detachEvent("on"+r._type,r._handler),this._registry.splice(i,1),r=null)}},n.Event.on(n.ENV,"unload",n.Event.detach,n.Event),t.DOM=n});
//@ sourceMappingURL=dom.js.map