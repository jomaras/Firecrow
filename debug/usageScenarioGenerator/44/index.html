<!DOCTYPE html>
<html>
<head>
    <title></title>
</head>
<body>
    <canvas id="canvas" width="400" height="400" style="border:solid black 1px;">
    </canvas>
    <br>
    <button  id="initButton">Initialize</button>
    <script>
        var initButton = document.getElementById("initButton");
        initButton.onclick = startup;

        function startup()
        {
            var el = document.getElementById("canvas");
            el.addEventListener("touchstart", handleStart, false);
            el.addEventListener("touchend", handleEnd, false);
            el.addEventListener("touchcancel", handleCancel, false);
            el.addEventListener("touchleave", handleEnd, false);
            el.addEventListener("touchmove", handleMove, false);
        }

        var ongoingTouches = [];

        function handleStart(evt)
        {
            var el = document.getElementsByTagName("canvas")[0];
            var ctx = el.getContext("2d");
            var touches = evt.changedTouches;

            for (var i = 0; i < touches.length; i++)
            {
                evt.preventDefault();
                var color = "#AAAAAA";
                ctx.beginPath();
                ctx.arc(touches[i].clientX, touches[i].clientY, 4, 0, 2 * Math.PI, false); // a circle at the start
                ctx.fillStyle = color;
                ctx.fill();
            }
        }

        function handleMove(evt)
        {
            var el = document.getElementsByTagName("canvas")[0];
            var ctx = el.getContext("2d");
            var touches = evt.touches;
            var a = 0;

            if(touches.length == 1)
            {
                a++;
            }
        }

        function handleEnd(evt)
        {
            var el = document.getElementsByTagName("canvas")[0];
            var ctx = el.getContext("2d");
            var touches = evt.targetTouches;
        }

        function handleCancel()
        {
            var a = 3;
            a++;
        }
    </script>
</body>
</html>