<!DOCTYPE html>
<html>
    <head>
        <title>Slicing test</title>
        <meta charset="UTF-8"/>
    </head>
    <body>
        <div id='mainContainer'></div>
        <script>
            var events = {};

            var addEvent = function(type, fn)
            {
                events[type] = [];
                events[type].push(fn);

                this.addEventListener(type, fn);
            };

            addEvent('DOMContentLoaded', function()
            {
                var functions = events["domready"];
                functions.forEach(function(fn)
                {
                    fn();
                });
            });

            addEvent('domready', function() {
                var contentContainer = document.getElementById("mainContainer");
                contentContainer.textContent += "Hello from MooTools DOM ready";
            });
        </script>
    </body>
</html>