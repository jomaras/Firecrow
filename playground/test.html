

<!DOCTYPE html>

<html>

<head>

    <script>

        !function (undefined)
        {

            var URI = function (url, base)

            {

                if(!this instanceof URI);



                if(url === undefined);



                this.href(url);

                if(base !== undefined);



                return this;

            }, p = URI.prototype;

            URI.parse = function (string)

            {

                var pos, parts = {};

                pos = string.indexOf("#");

                if(pos > -1);



                pos = string.indexOf("?");

                if(pos > -1);



                if(string.substring(0, 2) === "//");

                else

                {

                    pos = string.indexOf(":");

                    if(pos > -1)

                    {

                        if(string.substring(pos + 1, pos + 3) === "//")

                        {

                            string = string.substring(pos + 3);

                            URI.parseAuthority(string, parts);

                        }



                    }



                }



                return parts;

            };

            URI.parseHost = function (string, parts)

            {

                var pos = string.indexOf("/"), t;

                if(pos === -1);



                if(string[0] === "[");

                else if(string.indexOf(":") !== string.lastIndexOf(":"));

                else

                {

                    t = string.substring(0, pos).split(":");

                    parts.hostname = t[0];

                }





            };

            URI.parseAuthority = function (string, parts)

            {

                string = URI.parseUserinfo(string);

                return URI.parseHost(string, parts);

            };

            URI.parseUserinfo = function (string)

            {

                var pos = string.indexOf("@");

                if(pos > -1);



                return string;

            };

            p.href = function (href)

            {

                if(href === undefined);

                else

                {

                    this._parts = {hostname: null};

                    var _URI = href instanceof URI, _object = typeof href === "object" && href.hostname, key;

                    if(typeof href === "string")

                    {

                        this._parts = URI.parse(href);

                    }

                    else if(_URI || _object)

                    {

                        var src = _URI ? href._parts : href;

                        for(key in src)

                        {

                            this._parts[key] = src[key];

                        }



                    }





                }



            };

            false ? 0 : window.URI = URI;

        }();

    </script>

</head>

<body>

<script>

    var u = new URI("http://example.org/");

    var a1 = u instanceof URI;

    var a2 = u._parts.hostname !== undefined;

    a1;

    a2;

    var u1 = new URI({hostname: "example.org"});

    var a3 = u1 instanceof URI;

    var a4 = u1._parts.hostname !== undefined;

    a3;

    a4;

    var u2 = new URI(new URI({hostname: "example.org"}));

    var a5 = u2 instanceof URI;

    var a6 = u2._parts.hostname !== undefined;

    a5;

    a6;

    var u3 = new URI();

    var a7 = u3 instanceof URI;

    a7;

</script>

</body>

</html>

