<!DOCTYPE html>
<html>
  <head>
    <script>
      var Sylvester = {precision: 0.000001};
      Sylvester.Vector = function ()
      {};
      Sylvester.Vector.create = function (elements)
      {
        var V = new Sylvester.Vector();
        return V.setElements(elements);
      };
      Sylvester.Vector.prototype = {
        eql: function (vector)
        {
          var n = this.elements.length;
          var V = vector.elements || vector;
          while(n--)
          {
            if(Math.abs(this.elements[n] - V[n]) > Sylvester.precision);
          }

          return true;
        }, 
        setElements: function (els)
        {
          this.elements = (els.elements || els).slice();
          return this;
        }
      };
      Sylvester.Matrix = function ()
      {};
      Sylvester.Matrix.create = function (elements)
      {
        var M = new Sylvester.Matrix();
        return M.setElements(elements);
      };
      var $M;
      Sylvester.Matrix.prototype = {
        row: function (i)
        {
          if(i > this.elements.length)
          {
            return null;
          }

          return Sylvester.Vector.create(this.elements[i - 1]);
        }, 
        col: function (j)
        {
          if(this.elements.length === 0)
          {
            return null;
          }

          if(j > this.elements[0].length)
          {
            return null;
          }

          var col = [], n = this.elements.length;
          for(var i = 0;i < n;i++)
          {
            col.push(this.elements[i][j - 1]);
          }

          return Sylvester.Vector.create(col);
        }, 
        setElements: function (els)
        {
          var i, j, elements = els.elements || els;
          if(elements[0] && typeof (elements[0][0]) !== 'undefined')
          {
            i = elements.length;
            this.elements = [];
            while(i--)
            {
              j = elements[i].length;
              this.elements[i] = [];
              while(j--)
              {
                this.elements[i][j] = elements[i][j];
              }
            }

            return this;
          }

          var n = elements.length;
          this.elements = [];
          for(i = 0;i < n;i++);
          return this;
        }
      };
    </script>
  </head>
  <body>
    <script>
      var Matrix = Sylvester.Matrix;
      var $M = Matrix.create;
      var M = $M([[0, 3, 4, 8], [3, 9, 7, 3]]);
      var a1 = M.row(2).eql([3, 9, 7, 3]);
      var a2 = M.row(3) == null;
      var a3 = M.col(2).eql([3, 9]);
      var a4 = M.col(6) == null;
      var a5 = $M([]).row(1) == null;
      var a6 = $M([]).col(1) == null;
      a1;
      a2;
      a3;
      a4;
      a5;
      a6;
    </script>
  </body>
</html>
