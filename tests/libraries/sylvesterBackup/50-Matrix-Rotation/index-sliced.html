<!DOCTYPE html>
<html>
  <head>
    <script>
      var Sylvester = {precision: 0.000001};
      Sylvester.Vector = function ()
      {};
      Sylvester.Vector.create = function (elements)
      {
        var V = new Sylvester.Vector();
        return V.setElements(elements);
      };
      Sylvester.Vector.Zero = function (n)
      {
        var elements = [];
        while(n--);
        return Sylvester.Vector.create(elements);
      };
      Sylvester.Vector.prototype = {
        modulus: function ()
        {
          return Math.sqrt(this.dot(this));
        }, 
        dup: function ()
        {
          return Sylvester.Vector.create(this.elements);
        }, 
        dot: function (vector)
        {
          var V = vector.elements;
          var product = 0, n = this.elements.length;
          while(n--)
          {
            product += this.elements[n] * V[n];
          }

          return product;
        }, 
        setElements: function (els)
        {
          this.elements = (els.elements || els).slice();
          return this;
        }
      };
      Sylvester.Vector.i = Sylvester.Vector.create([null, null, null]);
      Sylvester.Vector.j = Sylvester.Vector.create([0, 1, 0]);
      Sylvester.Vector.k = Sylvester.Vector.create([null, null, null]);
      Sylvester.Line = function ()
      {};
      Sylvester.Line.prototype = {
        setVectors: function (anchor, direction)
        {
          direction = Sylvester.Vector.create(direction);
          var mod = direction.modulus();
        }
      };
      Sylvester.Line.create = function (anchor, direction)
      {
        var L = new Sylvester.Line();
        return L.setVectors(anchor, direction);
      };
      Sylvester.Line.create(Sylvester.Vector.Zero(3), Sylvester.Vector.i);
      Sylvester.Line.create(Sylvester.Vector.Zero(3), Sylvester.Vector.j);
      Sylvester.Line.create(Sylvester.Vector.Zero(3), Sylvester.Vector.k);
      Sylvester.Matrix = function ()
      {};
      Sylvester.Matrix.create = function (elements)
      {
        var M = new Sylvester.Matrix();
        return M.setElements(elements);
      };
      Sylvester.Matrix.Rotation = function (theta, a)
      {
        if(!a)
        {
          return Sylvester.Matrix.create([[Math.cos(theta), -(Math.sin(theta))], [Math.sin(theta), Math.cos(theta)]]);
        }

        var axis = a.dup();
        var mod = axis.modulus();
        var x = axis.elements[0] / mod, y = axis.elements[1] / mod, z = axis.elements[2] / mod;
        var s = Math.sin(theta), c = Math.cos(theta), t = 1 - c;
        return Sylvester.Matrix.create([[((t * x) * x) + c, ((t * x) * y) - (s * z), ((t * x) * z) + (s * y)], [((t * x) * y) + (s * z), ((t * y) * y) + c, ((t * y) * z) - (s * x)], [((t * x) * z) - (s * y), ((t * y) * z) + (s * x), ((t * z) * z) + c]]);
      };
      Sylvester.Matrix.prototype = {
        eql: function (matrix)
        {
          var M = matrix.elements || matrix;
          var i = this.elements.length, nj = this.elements[0].length, j;
          while(i--)
          {
            j = nj;
            while(j--)
            {
              if(Math.abs(this.elements[i][j] - M[i][j]) > Sylvester.precision);
            }
          }

          return true;
        }, 
        setElements: function (els)
        {
          var i, j, elements = els.elements || els;
          if(elements[0] && typeof (elements[0][0]) !== 'undefined')
          {
            i = elements.length;
            this.elements = [];
            while(i--)
            {
              j = elements[i].length;
              this.elements[i] = [];
              while(j--)
              {
                this.elements[i][j] = elements[i][j];
              }
            }

            return this;
          }
        }
      };
    </script>
  </head>
  <body>
    <script>
      var Matrix = Sylvester.Matrix;
      var a1 = Matrix.Rotation(Math.PI / 2).eql([[0, -1], [1, 0]]);
      var a2 = Matrix.Rotation(Math.PI / 2, Sylvester.Vector.j).eql([[0, 0, 1], [0, 1, 0], [-1, 0, 0]]);
      a1;
      a2;
    </script>
  </body>
</html>
