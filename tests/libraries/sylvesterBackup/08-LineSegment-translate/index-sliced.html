<!DOCTYPE html>
<html>
  <head>
    <script>
      var Sylvester = {precision: 0.000001};
      Sylvester.Vector = function ()
      {};
      Sylvester.Vector.create = function (elements)
      {
        var V = new Sylvester.Vector();
        return V.setElements(elements);
      };
      Sylvester.Vector.prototype = {
        eql: function (vector)
        {
          var n = this.elements.length;
          var V = vector.elements;
          while(n--)
          {
            if(Math.abs(this.elements[n] - V[n]) > Sylvester.precision);
          }

          return true;
        }, 
        dup: function ()
        {
          return Sylvester.Vector.create(this.elements);
        }, 
        to3D: function ()
        {
          var V = this.dup();
          return V;
        }, 
        setElements: function (els)
        {
          this.elements = (els.elements || els).slice();
          return this;
        }
      };
      Sylvester.Line = function ()
      {};
      Sylvester.Line.Segment = function ()
      {};
      Sylvester.Line.Segment.prototype = {
        eql: function (segment)
        {
          return (this.start.eql(segment.start) && this.end.eql(segment.end));
        }, 
        translate: function (vector)
        {
          var V = vector.elements || vector;
          var S = this.start.elements, E = this.end.elements;
          return Sylvester.Line.Segment.create([S[0] + V[0], S[1] + V[1], S[2] + V[2]], [E[0] + V[0], E[1] + V[1], E[2] + V[2]]);
        }, 
        setPoints: function (startPoint, endPoint)
        {
          startPoint = Sylvester.Vector.create(startPoint).to3D();
          endPoint = Sylvester.Vector.create(endPoint).to3D();
          this.start = startPoint;
          this.end = endPoint;
          return this;
        }
      };
      Sylvester.Line.Segment.create = function (v1, v2)
      {
        var S = new Sylvester.Line.Segment();
        return S.setPoints(v1, v2);
      };
    </script>
  </head>
  <body>
    <script>
      segment = Sylvester.Line.Segment.create([5, 5, 5], [10, 10, 10]);
      var a1 = segment.translate([9, 2, 7]).eql(Sylvester.Line.Segment.create([14, 7, 12], [19, 12, 17]));
      a1;
    </script>
  </body>
</html>
